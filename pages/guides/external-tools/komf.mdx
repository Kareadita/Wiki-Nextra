import { Callout } from 'nextra/components'
import { Steps } from 'nextra/components'


## [Komf](https://github.com/Snd-R/komf)

* Separate server that listens to `Series Add` events from Kavita and can scrape a number of configurable sources 
* Actively developed with support from the developer in Kavita discord
* Supports writing directly to Kavita's DB via the API or saving to ComicInfo.xml inside files.
* Can automate using its own API or CLI commands. 
* Userscript for in-browser management.

<Callout type="info">
  Komf has a webui that can be used for some configuration but it's advised to use the extension for [chrome](https://chromewebstore.google.com/detail/komf/bhppjldobkpocplgfcimljjhdjgbpdnh) or [firefox](https://addons.mozilla.org/en-US/firefox/addon/komf/).
</Callout>

## Setup
To get started with komf you need to create a file called `application.yml` in the same folder that komf runs from. That means if your using the .jar file it should be in the same folder. 
If you are running docker then you need to define a `/config` folder where the file can live. 

The minimum `application.yml` file needed to start Komf is:

```yml copy
kavita:
  baseUri: "http://localhost:5000" #or env:KOMF_KAVITA_BASE_URI
  apiKey: "YOUR_API_KEY_HERE!" #or env:KOMF_KAVITA_API_KEY

database:
  file: ./database.sqlite # database file location.
```

Fill out your `baseUri` to point to your Kavita install URL and put in your [Kavita API key](../user-settings/3rdpartycilents.mdx#api-key). 

<Callout type="info">
  The API key you use will be the user that Komf is logging in as. Make sure that the user has the correct permissions in Kavita to do what you're asking of it.
</Callout>

### Extension

Once you have Komf running with the minimum setup posted above, we need to set up the extension to connect to it.

<Steps>

### Step 1

Install the extension following one of the links above. The chrome extension should work for chromium based browsers.

### Step 2

Click on the extension to get a dialogue box.

### Step 3

Type in the IP / hostname of your Kavita install in Add new Origin.

Example: 
```bash
http://192.168.0.100:5000
```
### Step 4

Once the extension is set up open or refresh Kavita.

### Step 5

Inside your Kavita's browser window, you will now see a jigsaw puzzle piece in the top right corner next to your username. Click on it and put in your IP address of where komf is located. (This is NOT your kavita URL!) (Do note that if you use a hostname with SSL you will need to configure komf to use SSL as well otherwise you will have issues with CORS)

Press 'Check Connection' to test if the userscript can talk to your Komf backend. If you see a `Connected âœ”` then everything is working! 

### Step 6

Now you can configure the rest of the settings for some directly from here. You can pick your providers, what libraries you want to apply against and any discord notifications to be sent.
</Steps>
