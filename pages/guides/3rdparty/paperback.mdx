import { Callout } from 'nextra-theme-docs'
import Image from 'next/image'
import step1 from '../../../public/guides/3rdparty/paperback-image_11.png'
import step2 from '../../../public/guides/3rdparty/paperback-image_10.png'
import step3 from '../../../public/guides/3rdparty/paperback-image_9.png'
import step4 from '../../../public/guides/3rdparty/paperback-image_8.png'
import step5 from '../../../public/guides/3rdparty/paperback-image_6.png'
import step6 from '../../../public/guides/3rdparty/paperback-image_5.png'
import step7 from '../../../public/guides/3rdparty/paperback-image_1.png'
import step8 from '../../../public/guides/3rdparty/paperback-image_4.png'
import step9 from '../../../public/guides/3rdparty/paperback-image_3.png'
import step10 from '../../../public/guides/3rdparty/paperback-image_2.png'
import step11 from '../../../public/guides/3rdparty/paperback-image.png'
import step12 from '../../../public/guides/3rdparty/paperback-img_6210.png'
import step13 from '../../../public/guides/3rdparty/paperback-img_6211.png'
import step14 from '../../../public/guides/3rdparty/paperback-img_6214.png'
import step15 from '../../../public/guides/3rdparty/paperback-img_6215.png'

<Callout emoji="â™¥">
Big thanks to aitopu34 a.k.a ACK72 for developing this extension
</Callout>

<Callout type="info">
    As of v1.3.x the extension is only compatible with Paperback v0.8.
</Callout>

## Known Limitations
* Recommendation and ReadingList feature of Kavita currently are not supported.
* Tracking is supported, but as of Paperback v0.8 you must add the series to a collection (press the bookmark icon), then setup tracking individually.

## Issues
Kavya Extension: Please report any errors [on the extensions github page](https://github.com/ACK72/kavya-paperback/issues/new?assignees=ACK72&labels=&template=bug_report.md&title=%5BBUG%5D). 

Please do not create issues on Kavita's GitHub for extension-related issues.

## Installation

**Make sure Kavita is updated to the latest version**

1. After that, go the to [app store and install Paperback](https://apps.apple.com/us/app/paperback-a-komga-client/id1626613373).
    <Image
      src={step1}
      alt="picture"
      width={300} 
      height={300}
    />

2. Go to [https://ack72.github.io/kavya-paperback/](https://ack72.github.io/kavya-paperback/) and tap "**Add to Paperback**"

    <Image
      src={step2}
      alt="picture"
      width={300} 
      height={300}
    />

3. Tap "Open" when prompted to Open in "Paperback"?

    <Image
      src={step3}
      alt="picture"
      width={300} 
      height={300}
    />

4. Tap "Add as Source Repo"

    <Image
      src={step4}
      alt="picture"
      width={300} 
      height={300}
    />

5. Open Paperback and go to Settings > External Sources > Browse ACK72's Extensions

    <Image
      src={step5}
      alt="picture"
      width={300} 
      height={300}
    />

6. Install Kavya

    <Image
      src={step6}
      alt="picture"
      width={300} 
      height={300}
    />

## Setup

To make the extension link with your Kavita instance we need the API Key.
The steps to get the API Key are:

Access your Kavita instance from your web browser and log in
1. Access your Kavita [user dashboard](../user-settings/preferences.mdx)
2. Switch to [3rd Party Clients](../user-settings/3rdpartycilents.mdx) tab
3. Copy the text under the API Key

    <Image
      src={step7}
      alt="picture"
      width={300} 
      height={300}
    />

4. Open Paperback and back to External Sources page and tap on Kayva

    <Image
      src={step8}
      alt="picture"
      width={300} 
      height={300}
    />

7. Under Source Settings tap on "Server Settings"

    <Image
      src={step9}
      alt="picture"
      width={300} 
      height={300}
    />

9. Under Server Settings enter in your your Server URL in the corresponding field.
10. Enter your API key in the corresponding field.
12. Tap Save

    <Image
      src={step10}
      alt="picture"
      width={300} 
      height={300}
    />

13. Tap on the Book icon in the bottom left, then "Kavya" in the top of the screen.
14. Swipe down to refresh.
15. Browse your library 

    <Image
      src={step11}
      alt="picture"
      width={300} 
      height={300}
    />

## Progress Syncing
<Callout type="info">
    Progress Syncing is handled at chapter/issue level, not page level. That means after a chapter/issue is finished completion is synced to Kavita.
</Callout> 

1. Open Paperback and go to Settings
2. Tap External Trackers

    <Image
      src={step12}
      alt="picture"
      width={300} 
      height={300}
    />

3. Tap Edit and "+"

    <Image
      src={step13}
      alt="picture"
      width={300} 
      height={300}
    />

4. You can put whatever you would like in the name field. Add this to the URL field: `https://ACK72.github.io/kavya-paperback-tracker` and tap "Add to Paperback"

    <Image
      src={step14}
      alt="picture"
      width={300} 
      height={300}
    />

5. Tap the source you just named.
6. Tap Install next to the Tracker

    <Image
      src={step15}
      alt="picture"
      width={300} 
      height={300}
    />